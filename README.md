# PROGRESSIVE TIMER by Mizin

A robust tool designed for Visual Jockeys and Resolume Arena users to create custom Progressive Timer plugins (FFGL).

## Features

*   **Progressive Timing**: Counts up from 00:00.
*   **Time Limit Control**: Set a specific limit.
*   **Visual Thresholds**: Changes text color automatically as time runs out.
*   **Vector Rendering**: Uses lightweight OpenGL lines for text to ensure high performance and easy compilation without external font libraries.
*   **Code Generation**: Exports ready-to-use C++ code for the FFGL SDK.

---

## üõ†Ô∏è Official Compilation Guide (Resolume FFGL SDK)

To build this plugin, you must use the official **Resolume FFGL SDK**. You cannot compile the generated code in isolation; it must be injected into the SDK project structure.

### Prerequisites
1.  **Download SDK**: Get the latest [FFGL SDK from GitHub](https://github.com/resolume/ffgl).
2.  **Unzip**: Extract it to a folder (e.g., `C:\FFGL-SDK` or `~/Develop/FFGL-SDK`).

---

### ü™ü Windows (Visual Studio 2017/2019/2022)

1.  **Prepare the Project**:
    *   Navigate to `<SDK_Folder>/build/windows`.
    *   Duplicate the file `FFGLGradients.vcxproj` and rename it to `ProgressiveTimer.vcxproj`.
    *   Duplicate `FFGLGradients.vcxproj.filters` and rename to `ProgressiveTimer.vcxproj.filters`.

2.  **Add to Solution**:
    *   Open `FFGLPlugins.sln` in Visual Studio.
    *   Right-click the **Solution 'FFGLPlugins'** (top of tree) -> **Add** -> **Existing Project**.
    *   Select your new `ProgressiveTimer.vcxproj`.

3.  **Clean Old Sources**:
    *   In the Solution Explorer, expand your new `ProgressiveTimer` project.
    *   **Remove** (Delete) `FFGLGradients.h` and `FFGLGradients.cpp`.

4.  **Inject Generated Code**:
    *   Go to `<SDK_Folder>/source/`.
    *   Create a new file named `ProgressiveTimer.cpp`.
    *   **Paste the C++ code generated by this web app into that file.**
    *   Drag and drop `ProgressiveTimer.cpp` into your Visual Studio project (Source Files).

5.  **Build**:
    *   Set Configuration to **Release** and Platform to **x64**.
    *   Right-click the project -> **Build**.
    *   The `.dll` will be in `<SDK_Folder>/binaries/x64/Release`.
    *   Copy to `Documents/Resolume Arena/Extra Effects`.

---

### üçé macOS (Xcode)

*Note: For Apple Silicon (M1/M2/M3), ensure you build as "Any Mac (Apple Silicon, Intel)" for Universal Binary support.*

1.  **Prepare Target**:
    *   Go to `<SDK_Folder>/build/osx` and open `FFGLPlugins.xcodeproj`.
    *   Select the **FFGLGradients** target.
    *   Right-click -> **Duplicate**. Rename it to `ProgressiveTimer`.

2.  **Clean Build Phases**:
    *   Select the new target. Go to **Build Phases** -> **Compile Sources**.
    *   Remove `FFGLGradients.cpp`.

3.  **Inject Code**:
    *   Create a new file `ProgressiveTimer.cpp` in the source folder with the code generated by this app.
    *   Drag this file into the Xcode project sidebar.
    *   When asked "Add to targets", check **only** `ProgressiveTimer`.

4.  **Info.plist Fix**:
    *   Go to **Build Settings** -> **Packaging** -> **Info.plist File**.
    *   Change it to `FFGLPlugin-Info.plist` (or the default one used by other plugins) to avoid using the "copy" file created by duplication.

5.  **Build**:
    *   Product -> **Build** (Cmd+B).
    *   Right-click the product (`ProgressiveTimer.bundle`) -> Show in Finder.
    *   Copy to `~/Documents/Resolume Arena/Extra Effects`.

---

## Troubleshooting

*   **"Compilation Failed"**: Ensure you are putting the file INSIDE the SDK project as described above. The code needs `FFGL.h` and `FFGLLib.h` which are provided by the SDK project settings.
*   **Missing GLEW**: If Visual Studio complains about GLEW, ensure the property sheet `deps/glew.props` is added to your project via the Property Manager (View -> Other Windows -> Property Manager).
